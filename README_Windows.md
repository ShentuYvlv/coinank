第一步：创建虚拟环境
python -m venv venv

第二步：激活虚拟环境（在 PowerShell 中）
.\venv\Scripts\Activate.ps1

第三步：安装依赖（如果有）
pip install -r requirements.txt



### 2. 安装

**方法一：使用批处理文件（推荐）**
```cmd
# 双击运行
install_windows.bat
```

**方法二：手动安装**
```cmd
pip install -r requirements_windows.txt
```

### 3. 配置代理

在你的VPN软件中配置：
- 协议：SOCKS5
- 地址：127.0.0.1
- 端口：10808

### 4. 运行

```cmd
python coinank_windows_fetcher.py
```

## 🎯 支持的代币

- **PEPE** - 默认分析代币
- **BTC** - 比特币
- **ETH** - 以太坊
- **DOGE** - 狗狗币
- **SOL** - Solana
- **SHIB** - 柴犬币
- **WIF** - dogwifhat

## 📊 生成的图表

### 1. 价格走势图
- 实时价格曲线
- MA20/MA50移动平均线
- 当前价格标注

### 2. 持仓量对比图
- 各交易所持仓量走势
- 颜色区分不同交易所
- 时间序列展示

### 3. 市场仪表板
- 期货持仓量排行
- 现货交易量分布
- 价格对比（期货vs现货）
- 资金费率排行

## ⚙️ 配置选项

在 `coinank_windows_fetcher.py` 中可以修改：

```python
# 代理配置
use_proxy = True  # 是否使用代理
proxy_host = '127.0.0.1'  # 代理地址
proxy_port = 10808  # SOCKS5端口

# 分析的代币
token = "PEPE"  # 可修改为其他支持的代币
```

## 📁 输出文件

图表将保存在 `coinank_charts` 文件夹中：
```
coinank_charts/
├── PEPE_price_20250705_150000.png
├── PEPE_open_interest_20250705_150000.png
└── PEPE_dashboard_20250705_150000.png
```

## 🔧 故障排除

### 网络连接问题
1. 确认VPN是否正常工作
2. 检查SOCKS5代理配置
3. 尝试更换VPN服务器
4. 关闭防火墙重试

### 代理配置问题
```python
# 如果SOCKS5不工作，可以尝试HTTP代理
use_proxy = True
proxy_host = '127.0.0.1'
proxy_port = 7890  # 修改为你的HTTP代理端口
```

### 数据获取失败
1. 检查代币名称是否正确
2. 确认网络连接稳定
3. 稍后重试（可能是服务器繁忙）

### 图表显示问题
如果中文显示为方块，安装中文字体：
```cmd
# 下载并安装 SimHei 字体
# 或者修改代码使用系统默认字体
```

## 📋 详细数据说明

### 价格数据
- **当前价格**: 最新交易价格
- **历史最高/最低**: 数据期间内的极值
- **涨跌幅**: 相对于起始价格的变化百分比

### 期货数据
- **持仓量**: 未平仓合约的总价值
- **资金费率**: 多空平衡的费率
- **交易所数量**: 支持该代币期货的交易所

### 现货数据
- **交易量**: 24小时内的成交额
- **价格差异**: 不同交易所间的价格差异

## 🆘 常见问题

**Q: 为什么需要VPN？**
A: coinank.com可能在某些地区有访问限制，VPN确保稳定访问。

**Q: 可以修改代理端口吗？**
A: 可以，在代码中修改 `proxy_port` 变量。

**Q: 支持其他代币吗？**
A: 支持coinank.com上所有可用的代币，修改代码中的token变量即可。

**Q: 图表不清晰怎么办？**
A: 图表默认300 DPI高清保存，可以放大查看或调整dpi参数。

**Q: 数据多久更新一次？**
A: 获取的是实时数据，每次运行都是最新的。

## 📞 技术支持

如果遇到问题：
1. 检查Python和依赖是否正确安装
2. 确认网络和代理配置
3. 查看控制台错误信息
4. 参考故障排除部分

## 📜 许可证

本项目仅供学习和研究使用，请遵守coinank.com的使用条款。